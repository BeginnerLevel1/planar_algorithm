package com.huifer.planar.aset.algo;

import com.huifer.planar.aset.algo.impl.polygon.PolygonRemoveNodeByLength;
import org.junit.Before;
import org.junit.Test;
import org.locationtech.jts.geom.Geometry;
import org.locationtech.jts.geom.GeometryFactory;
import org.locationtech.jts.geom.Polygon;
import org.locationtech.jts.io.WKTReader;

import java.util.ArrayList;
import java.util.Arrays;
import java.util.List;

public class PolygonRemoveNodeInterfaceTest {

    private List<String> polygons = new ArrayList<>();
    private List<Polygon> geometries = new ArrayList<>();


    @Before
    public void init() throws Exception {
        polygons = Arrays.asList(
//                new String[]{
//                        "MULTIPOLYGON (((90020.63427734375 67021.02227783203, 90023.3442993164 67019.58752441406, 90021.58288574219 67017.11267089844, 90024.75012207031 67013.8046875, 90021.94927978516 67014.14752197266, 90019.75732421875 67017.89367675781, 90020.63427734375 67021.02227783203)))",
//                        "MULTIPOLYGON (((90023.60327148438 67021.85913085938, 90026.04089355469 67021.70910644531, 90025.50927734375 67018.7935180664, 90023.53271484375 67020.07232666016, 90023.3442993164 67019.58752441406, 90020.63427734375 67021.02227783203, 90023.60327148438 67021.85913085938)))",
//                        "MULTIPOLYGON (((90026.04089355469 67021.70910644531, 90030.02947998047 67019.3530883789, 90027.16790771484 67018.04907226562, 90024.60949707031 67017.45709228516, 90024.67468261719 67017.1782836914, 90021.58288574219 67017.11267089844, 90023.3442993164 67019.58752441406, 90023.53271484375 67020.07232666016, 90025.50927734375 67018.7935180664, 90026.04089355469 67021.70910644531)))",
//                        "MULTIPOLYGON (((90021.94927978516 67014.14752197266, 90024.75012207031 67013.8046875, 90021.58288574219 67017.11267089844, 90024.67468261719 67017.1782836914, 90024.60949707031 67017.45709228516, 90027.16790771484 67018.04907226562, 90026.73010253906 67015.89227294922, 90024.40008544922 67015.07928466797, 90026.8046875 67015.25708007812, 90023.18048095703 67010.80407714844, 90021.94927978516 67014.14752197266)))",
//                        "MULTIPOLYGON (((90030.02947998047 67019.3530883789, 90029.63311767578 67016.46752929688, 90031.69909667969 67012.1939086914, 90026.73010253906 67015.89227294922, 90027.16790771484 67018.04907226562, 90030.02947998047 67019.3530883789)))",
//                        "MULTIPOLYGON (((90028.39630126953 67010.72930908203, 90026.93450927734 67015.48828125, 90026.73010253906 67015.89227294922, 90031.69909667969 67012.1939086914, 90028.39630126953 67010.72930908203)))",
//                        "MULTIPOLYGON (((90023.18048095703 67010.80407714844, 90026.8046875 67015.25708007812, 90024.40008544922 67015.07928466797, 90026.73010253906 67015.89227294922, 90026.93450927734 67015.48828125, 90028.39630126953 67010.72930908203, 90023.18048095703 67010.80407714844)))"                }

//                "MULTIPOLYGON (((91129.61791992188 74852.59307861328, 91005.82067871094 74914.80267333984, 91126.52587890625 74940.88610839844, 91203.72967529297 74923.7192993164, 91129.21752929688 74854.06872558594, 91129.61791992188 74852.59307861328)))",
//                "MULTIPOLYGON (((91276.43292236328 74973.27990722656, 91253.49487304688 74835.05389404297, 91252.66387939453 74836.15167236328, 91129.61791992188 74852.59307861328, 91129.21752929688 74854.06872558594, 91203.72967529297 74923.7192993164, 91126.52587890625 74940.88610839844, 91276.43292236328 74973.27990722656)))",
//                "MULTIPOLYGON (((91129.61791992188 74852.59307861328, 91046.63269042969 74757.62231445312, 91045.63488769531 74758.03430175781, 91129.61791992188 74852.59307861328)))",
//                "MULTIPOLYGON (((91046.63269042969 74757.62231445312, 91129.61791992188 74852.59307861328, 91252.66387939453 74836.15167236328, 91046.63269042969 74757.62231445312)))",
//                "MULTIPOLYGON (((91005.82067871094 74914.80267333984, 90996.01647949219 74933.57647705078, 91229.32391357422 75035.9896850586, 91276.43292236328 74973.27990722656, 91126.52587890625 74940.88610839844, 91005.82067871094 74914.80267333984)))",
//                "MULTIPOLYGON (((90996.01647949219 74933.57647705078, 90995.60607910156 74934.36248779297, 91229.12628173828 75036.71447753906, 91229.32391357422 75035.9896850586, 90996.01647949219 74933.57647705078)))",
//                "MULTIPOLYGON (((90970.7197265625 74982.0150756836, 91229.12628173828 75036.71447753906, 90995.60607910156 74934.36248779297, 90970.7197265625 74982.0150756836)))",
//                "MULTIPOLYGON (((90970.7197265625 74982.0150756836, 90995.60607910156 74934.36248779297, 90996.01647949219 74933.57647705078, 91005.82067871094 74914.80267333984, 91044.27584173274 74764.58286134782, 91045.6445102733 74758.89014726439, 91045.63488769531 74758.03430175781, 91045.03589831636 74758.46969780294, 90970.7197265625 74982.0150756836)))",
//                "MULTIPOLYGON (((91005.82067871095 74914.80267333984, 91129.61791992188 74852.59307861328, 91045.6348876953 74758.03430175781, 91045.6445102733 74758.89014726439, 91044.27584173274 74764.58286134782, 91005.82067871095 74914.80267333984)))"

//                "MULTIPOLYGON (((91129.61791992188 74852.59307861328, 91005.82067871094 74914.80267333984, 91126.52587890625 74940.88610839844, 91203.72967529297 74923.7192993164, 91129.21752929688 74854.06872558594, 91129.61791992188 74852.59307861328)))",
//                "MULTIPOLYGON (((91276.43292236328 74973.27990722656, 91253.49487304688 74835.05389404297, 91252.66387939453 74836.15167236328, 91129.61791992188 74852.59307861328, 91129.21752929688 74854.06872558594, 91203.72967529297 74923.7192993164, 91126.52587890625 74940.88610839844, 91276.43292236328 74973.27990722656)))",
//                "MULTIPOLYGON (((91252.66387939453 74836.15167236328, 91046.63269042969 74757.62231445312, 91045.63488769531 74758.03430175781, 91129.61791992188 74852.59307861328, 91252.66387939453 74836.15167236328)))",
//                "MULTIPOLYGON (((91005.82067871094 74914.80267333984, 90996.01647949219 74933.57647705078, 91229.32391357422 75035.9896850586, 91276.43292236328 74973.27990722656, 91126.52587890625 74940.88610839844, 91005.82067871094 74914.80267333984)))",
//                "MULTIPOLYGON (((91229.32391357422 75035.9896850586, 90996.01647949219 74933.57647705078, 90995.60607910156 74934.36248779297, 90970.7197265625 74982.0150756836, 91229.12628173828 75036.71447753906, 91229.32391357422 75035.9896850586)))",
//                "MULTIPOLYGON (((90970.7197265625 74982.0150756836, 90995.60607910156 74934.36248779297, 90996.01647949219 74933.57647705078, 91005.82067871094 74914.80267333984, 91044.27584173274 74764.58286134782, 91045.6445102733 74758.89014726439, 91045.63488769531 74758.03430175781, 91045.03589831636 74758.46969780294, 90970.7197265625 74982.0150756836)))",
//                "MULTIPOLYGON (((91005.82067871095 74914.80267333984, 91129.61791992188 74852.59307861328, 91045.6348876953 74758.03430175781, 91045.6445102733 74758.89014726439, 91044.27584173274 74764.58286134782, 91005.82067871095 74914.80267333984)))"
//

//                "MULTIPOLYGON (((88095.4526462555 73720.44752693176, 88092.74109077454 73717.2694644928, 88091.22643470764 73720.84528923035, 88095.4526462555 73720.44752693176)))",
//                "MULTIPOLYGON (((88092.74109077454 73717.2694644928, 88088.27637290955 73719.40340614319, 88091.22643470764 73720.84528923035, 88092.74109077454 73717.2694644928)))",
//                "MULTIPOLYGON (((88088.2708644867 73722.99081611633, 88088.2708644867 73724.7908153534, 88090.07086753845 73724.7908153534, 88090.07086753845 73722.99081611633, 88088.2708644867 73722.99081611633)))",
//                "MULTIPOLYGON (((88090.07086753845 73724.7908153534, 88091.62971305847 73723.89081764221, 88090.07086753845 73722.99081611633, 88090.07086753845 73724.7908153534)))",
//                "MULTIPOLYGON (((88091.62971305847 73723.89081764221, 88095.4526462555 73720.44752693176, 88091.22643470764 73720.84528923035, 88090.07086753845 73722.99081611633, 88091.62971305847 73723.89081764221)))",
//                "MULTIPOLYGON (((88088.2708644867 73724.7908153534, 88088.2708644867 73722.99081611633, 88084.5473613739 73722.60206794739, 88084.11645317078 73724.85604667664, 88085.40917778015 73727.27576255798, 88088.37581062317 73727.1266002655, 88088.2708644867 73724.7908153534)))",
//                "MULTIPOLYGON (((88084.5473613739 73722.60206794739, 88088.2708644867 73722.99081611633, 88090.07086753845 73722.99081611633, 88091.22643470764 73720.84528923035, 88088.27637290955 73719.40340614319, 88085.22686958313 73719.23767280579, 88084.5473613739 73722.60206794739)))",
//                "MULTIPOLYGON (((88085.22686958313 73719.23767280579, 88088.27637290955 73719.40340614319, 88092.74109077454 73717.2694644928, 88083.66624259949 73713.79273414612, 88085.22686958313 73719.23767280579)))",
//                "MULTIPOLYGON (((88079.92434120178 73718.65426063538, 88076.53600883484 73725.92526817322, 88084.11645317078 73724.85604667664, 88085.22686958313 73719.23767280579, 88079.92434120178 73718.65426063538)))",
//                "MULTIPOLYGON (((88083.66624259949 73713.79273414612, 88081.9091053009 73714.18321037292, 88079.92434120178 73718.65426063538, 88085.22686958313 73719.23767280579, 88083.66624259949 73713.79273414612)))",
//                "MULTIPOLYGON (((88076.53600883484 73725.92526817322, 88078.7850780487 73728.56064033508, 88085.40917778015 73727.27576255798, 88084.11645317078 73724.85604667664, 88076.53600883484 73725.92526817322)))",
//                "MULTIPOLYGON (((88095.4526462555 73720.44752693176, 88097.81868553162 73717.95367622375, 88095.72675514221 73716.42156028748, 88092.74109077454 73717.2694644928, 88095.4526462555 73720.44752693176)))",
//                "MULTIPOLYGON (((88095.72675514221 73716.42156028748, 88094.07678413391 73712.65019416809, 88085.03140068054 73710.82343864441, 88083.66624259949 73713.79273414612, 88092.74109077454 73717.2694644928, 88095.72675514221 73716.42156028748)))"


                "MULTIPOLYGON (((88079.50995580171 73725.33817954847, 88081.30995580171 73725.33817954847, 88081.3330334011 73723.94014053489, 88079.50995580171 73723.93853674238, 88079.50995580171 73725.33817954847)))",
                "MULTIPOLYGON (((88081.3330334011 73723.94014053489, 88080.51705784575 73721.02098156596, 88079.50995580171 73723.93853674238, 88081.3330334011 73723.94014053489)))",
                "MULTIPOLYGON (((88081.30995580171 73725.33817954847, 88083.81516369736 73724.68554362332, 88081.3330334011 73723.94014053489, 88081.30995580171 73725.33817954847)))",
                "MULTIPOLYGON (((88083.81516369736 73724.68554362332, 88087.3387810602 73721.83846079414, 88087.26830871294 73717.65240336707, 88081.3330334011 73723.94014053489, 88083.81516369736 73724.68554362332)))",
                "MULTIPOLYGON (((88087.26830871294 73717.65240336707, 88084.42122588378 73715.98925597181, 88080.51705784575 73721.02098156596, 88081.3330334011 73723.94014053489, 88087.26830871294 73717.65240336707)))",
                "MULTIPOLYGON (((88084.42122588378 73715.98925597181, 88081.77146562691 73714.76303712954, 88080.65800254025 73717.14500246682, 88084.42122588378 73715.98925597181)))",
                "MULTIPOLYGON (((88080.65800254025 73717.14500246682, 88078.85879214384 73717.19831240448, 88079.50129863911 73718.87973602854, 88079.6506183871 73720.67353189565, 88080.51705784575 73721.02098156596, 88084.42122588378 73715.98925597181, 88080.65800254025 73717.14500246682)))",
                "MULTIPOLYGON (((88079.6506183871 73720.67353189565, 88076.85249578836 73722.38814510271, 88079.5099558017 73723.93853674238, 88079.6506183871 73720.67353189565)))",
                "MULTIPOLYGON (((88079.50995826721 73725.33817863464, 88079.50995826721 73723.938539505, 88076.85249519348 73722.38814735413, 88079.65061759949 73720.67353248596, 88079.50129890442 73718.87973594666, 88078.85879325867 73717.1983127594, 88080.6580028534 73717.14500236511, 88081.77146720886 73714.7630367279, 88078.27829933167 73712.19784355164, 88073.20011329651 73715.0487537384, 88068.65647697449 73720.30512428284, 88079.50995826721 73725.33817863464)))",
                "MULTIPOLYGON (((88079.5099558017 73723.93853674238, 88080.51705784575 73721.02098156596, 88079.6506183871 73720.67353189565, 88079.5099558017 73723.93853674238)))"

        );

        for (String polygon : polygons) {
            Geometry rs = new WKTReader().read(polygon);
            Polygon polygon1 = new GeometryFactory().createPolygon(rs.getCoordinates());
            geometries.add(polygon1);
        }


        System.out.println();

    }


    @Test
    public void polygonRemoveNodeByLengthTest() throws Exception {

        PolygonRemoveNodeInterface polygonRemoveNodeInterface = new PolygonRemoveNodeByLength();
        polygonRemoveNodeInterface.polygonRemoveNodeByLength(geometries, 2.0);

    }

}
